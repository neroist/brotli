<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>src/brotli/encode</title>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css?v=2.0.6">

<!-- JS -->
<script type="text/javascript" src="../dochack.js?v=2.0.6"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">src/brotli/encode</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#BrotliEncoderMode" title="BrotliEncoderMode = enum
  BrotliModeGeneric = 0, ## 
                          ## Default compression mode.
                          ## 
                          ## In this mode compressor does not know anything in advance about the
                          ## properties of the input.
                          ## 
  BrotliModeText = 1,       ## Compression mode for UTF-8 formatted text input. 
  BrotliModeFont = 2         ## Compression mode used in WOFF 2.0.">BrotliEncoderMode</a></li>
<li><a class="reference" href="#BrotliEncoderOperation" title="BrotliEncoderOperation = enum
  BROTLI_OPERATION_PROCESS = 0, ## 
                                 ## Process input.
                                 ## 
                                 ## Encoder may postpone producing output, until it has processed enough input.
                                 ## 
  BROTLI_OPERATION_FLUSH = 1, ## 
                               ## Produce output for all processed input.
                               ## 
                               ## Actual flush is performed when input stream is depleted and there is enough
                               ## space in output stream. This means that client should repeat
                               ## `BROTLI_OPERATION_FLUSH` operation until `available_in` becomes `0`, and
                               ## [proc BrotliEncoderHasMoreOutput] returns `0`. If output is acquired
                               ## via [proc BrotliEncoderTakeOutput], then operation should be repeated after
                               ## output buffer is drained.
                               ## 
                               ## .. warning:: Until flush is complete, client **SHOULD NOT** swap,
                               ##              reduce or extend input stream.
                               ## 
                               ## When flush is complete, output data will be sufficient for decoder to
                               ## reproduce all the given input.
                               ## 
  BROTLI_OPERATION_FINISH = 2, ## 
                                ## Finalize the stream.
                                ## 
                                ## Actual finalization is performed when input stream is depleted and there is
                                ## enough space in output stream. This means that client should repeat
                                ## `BROTLI_OPERATION_FINISH` operation until `available_in` becomes `0`, and
                                ## [proc BrotliEncoderHasMoreOutput] returns `0`. If output is acquired
                                ## via [proc BrotliEncoderTakeOutput], then operation should be repeated after
                                ## output buffer is drained.
                                ## 
                                ## .. warning:: Until finalization is complete, client **SHOULD NOT** swap,
                                ##              reduce or extend input stream.
                                ## 
                                ## Helper function [proc BrotliEncoderIsFinished] checks if stream is finalized and
                                ## output fully dumped.
                                ## 
                                ## Adding more input data to finalized stream is impossible.
                                ## 
  BROTLI_OPERATION_EMIT_METADATA = 3 ## 
                                     ## Emit metadata block to stream.
                                     ## 
                                     ## Metadata is opaque to Brotli: neither encoder, nor decoder processes this
                                     ## data or relies on it. It may be used to pass some extra information from
                                     ## encoder client to decoder client without interfering with main data stream.
                                     ## 
                                     ## .. note:: Encoder may emit empty metadata blocks internally, to pad encoded
                                     ##           stream to byte boundary.
                                     ## 
                                     ## .. warning:: Until emitting metadata is complete client **SHOULD NOT** swap,
                                     ##              reduce or extend input stream.
                                     ## 
                                     ## .. warning:: The whole content of input buffer is considered to be the content
                                     ##              of metadata block. Do @b NOT @e append metadata to input stream,
                                     ##              before it is depleted with other operations.
                                     ## 
                                     ## Stream is soft-flushed before metadata block is emitted. Metadata block
                                     ## **MUST** be no longer than than 16MiB.
                                     ##">BrotliEncoderOperation</a></li>
<li><a class="reference" href="#BrotliEncoderParameter" title="BrotliEncoderParameter = enum
  BROTLI_PARAM_MODE = 0, ## 
                          ## Tune encoder for specific input.
                          ## 
                          ## [enum BrotliEncoderMode] enumerates all available values.
                          ## 
  BROTLI_PARAM_QUALITY = 1, ## 
                             ## The main compression speed-density lever.
                             ## 
                             ## The higher the quality, the slower the compression. Range is
                             ## from [const BROTLI_MIN_QUALITY] to [const BROTLI_MAX_QUALITY].
                             ## 
  BROTLI_PARAM_LGWIN = 2, ## 
                           ## Recommended sliding LZ77 window size.
                           ## 
                           ## Encoder may reduce this value, e.g. if input is much smaller than
                           ## window size.
                           ## 
                           ## Window size is `(1 &lt;&lt; value) - 16`.
                           ## 
                           ## Range is from [const BROTLI_MIN_WINDOW_BITS] to [const BROTLI_MAX_WINDOW_BITS].
                           ## 
  BROTLI_PARAM_LGBLOCK = 3, ## 
                             ## Recommended input block size.
                             ## 
                             ## Encoder may reduce this value, e.g. if input is much smaller than input
                             ## block size.
                             ## 
                             ## Range is from [const BROTLI_MIN_INPUT_BLOCK_BITS] to
                             ## [const BROTLI_MAX_INPUT_BLOCK_BITS].
                             ## 
                             ## .. note:: Bigger input block size allows better compression, but consumes more
                             ##           memory.
                             ##           The rough formula of memory used for temporary input
                             ##           storage is `3 &lt;&lt; lgBlock`.
                             ## 
  BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING = 4, ## 
                                                      ## Flag that affects usage of &quot;literal context modeling&quot; format feature.
                                                      ## 
                                                      ## This flag is a &quot;decoding-speed vs compression ratio&quot; trade-off.
                                                      ## 
  BROTLI_PARAM_SIZE_HINT = 5, ## 
                               ## Estimated total input size for all
                               ## [proc BrotliEncoderCompressStream] calls.
                               ## 
                               ## The default value is `0`, which means that the total input size is unknown.
                               ## 
  BROTLI_PARAM_LARGE_WINDOW = 6, ## 
                                  ## Flag that determines if &quot;Large Window Brotli&quot; is used.
                                  ## 
  BROTLI_PARAM_NPOSTFIX = 7, ## 
                              ## Recommended number of postfix bits (NPOSTFIX).
                              ## 
                              ## Encoder may change this value.
                              ## 
                              ## Range is from 0 to [const BROTLI_MAX_NPOSTFIX]. &lt;!-- defined in common/constants.h--&gt;
                              ## 
  BROTLI_PARAM_NDIRECT = 8, ## 
                             ## Recommended number of direct distance codes (NDIRECT).
                             ## 
                             ## Encoder may change this value.
                             ## 
                             ## Range is from 0 to (15 &lt;&lt; NPOSTFIX) in steps of (1 &lt;&lt; NPOSTFIX).
                             ## 
  BROTLI_PARAM_STREAM_OFFSET = 9 ## 
                                 ## Number of bytes of input stream already processed by a different instance.
                                 ## 
                                 ## .. note:: It is important to configure all the encoder instances with same
                                 ##           parameters (except this one) in order to allow all the encoded parts
                                 ##           obey the same restrictions implied by header.
                                 ## 
                                 ## If offset is not 0, then stream header is omitted.
                                 ## In any case output start is byte aligned, so for proper streams stitching
                                 ## &quot;predecessor&quot; stream must be flushed.
                                 ## 
                                 ## Range is not artificially limited, but all the values greater or equal to
                                 ## maximal window size have the same effect. Values greater than 2^30 are not
                                 ## allowed.
                                 ##">BrotliEncoderParameter</a></li>
<li><a class="reference" href="#BrotliEncoderPreparedDictionary" title="BrotliEncoderPreparedDictionary = object">BrotliEncoderPreparedDictionary</a></li>
<li><a class="reference" href="#BrotliEncoderState" title="BrotliEncoderState = object">BrotliEncoderState</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#10" id="60">Consts</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#BROTLI_DEFAULT_MODE" title="BROTLI_DEFAULT_MODE = BrotliModeGeneric">BROTLI_DEFAULT_MODE</a></li>
<li><a class="reference" href="#BROTLI_DEFAULT_QUALITY" title="BROTLI_DEFAULT_QUALITY = 11">BROTLI_DEFAULT_QUALITY</a></li>
<li><a class="reference" href="#BROTLI_DEFAULT_WINDOW" title="BROTLI_DEFAULT_WINDOW = 22">BROTLI_DEFAULT_WINDOW</a></li>
<li><a class="reference" href="#BROTLI_LARGE_MAX_WINDOW_BITS" title="BROTLI_LARGE_MAX_WINDOW_BITS = 30">BROTLI_LARGE_MAX_WINDOW_BITS</a></li>
<li><a class="reference" href="#BROTLI_MAX_INPUT_BLOCK_BITS" title="BROTLI_MAX_INPUT_BLOCK_BITS = 24">BROTLI_MAX_INPUT_BLOCK_BITS</a></li>
<li><a class="reference" href="#BROTLI_MAX_QUALITY" title="BROTLI_MAX_QUALITY = 11">BROTLI_MAX_QUALITY</a></li>
<li><a class="reference" href="#BROTLI_MAX_WINDOW_BITS" title="BROTLI_MAX_WINDOW_BITS = 24">BROTLI_MAX_WINDOW_BITS</a></li>
<li><a class="reference" href="#BROTLI_MIN_INPUT_BLOCK_BITS" title="BROTLI_MIN_INPUT_BLOCK_BITS = 16">BROTLI_MIN_INPUT_BLOCK_BITS</a></li>
<li><a class="reference" href="#BROTLI_MIN_QUALITY" title="BROTLI_MIN_QUALITY = 0">BROTLI_MIN_QUALITY</a></li>
<li><a class="reference" href="#BROTLI_MIN_WINDOW_BITS" title="BROTLI_MIN_WINDOW_BITS = 10">BROTLI_MIN_WINDOW_BITS</a></li>
<li><a class="reference" href="#useBrotliEncDll" title="useBrotliEncDll = false">useBrotliEncDll</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">BrotliEncoderAttachPreparedDictionary
  <li><a class="reference" href="#BrotliEncoderAttachPreparedDictionary%2Cptr.BrotliEncoderState%2Cptr.BrotliEncoderPreparedDictionary" title="BrotliEncoderAttachPreparedDictionary(state: ptr BrotliEncoderState; dictionary: ptr BrotliEncoderPreparedDictionary): cint">BrotliEncoderAttachPreparedDictionary(state: ptr BrotliEncoderState; dictionary: ptr BrotliEncoderPreparedDictionary): cint</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderCompress
  <li><a class="reference" href="#BrotliEncoderCompress%2Ccint%2Ccint%2CBrotliEncoderMode%2Ccsize_t%2Cptr.UncheckedArray%5Buint8%5D%2Cptr.csize_t%2Cptr.UncheckedArray%5Buint8%5D" title="BrotliEncoderCompress(quality: cint = BROTLI_DEFAULT_QUALITY;
                      lgwin: cint = BROTLI_DEFAULT_WINDOW;
                      mode: BrotliEncoderMode = BROTLI_DEFAULT_MODE;
                      inputSize: csize_t;
                      inputBuffer: ptr UncheckedArray[uint8];
                      encodedSize: ptr csize_t;
                      encodedBuffer: ptr UncheckedArray[uint8]): cint">BrotliEncoderCompress(quality: cint = BROTLI_DEFAULT_QUALITY;
                      lgwin: cint = BROTLI_DEFAULT_WINDOW;
                      mode: BrotliEncoderMode = BROTLI_DEFAULT_MODE;
                      inputSize: csize_t;
                      inputBuffer: ptr UncheckedArray[uint8];
                      encodedSize: ptr csize_t;
                      encodedBuffer: ptr UncheckedArray[uint8]): cint</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderCompressStream
  <li><a class="reference" href="#BrotliEncoderCompressStream%2Cptr.BrotliEncoderState%2CBrotliEncoderOperation%2Cptr.csize_t%2Cptr.ptr.uint8%2Cptr.csize_t%2Cptr.ptr.uint8%2Cptr.csize_t" title="BrotliEncoderCompressStream(state: ptr BrotliEncoderState;
                            op: BrotliEncoderOperation;
                            availableIn: ptr csize_t; nextIn: ptr ptr uint8;
                            availableOut: ptr csize_t; nextOut: ptr ptr uint8;
                            totalOut: ptr csize_t): cint">BrotliEncoderCompressStream(state: ptr BrotliEncoderState;
                            op: BrotliEncoderOperation;
                            availableIn: ptr csize_t; nextIn: ptr ptr uint8;
                            availableOut: ptr csize_t; nextOut: ptr ptr uint8;
                            totalOut: ptr csize_t): cint</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderCreateInstance
  <li><a class="reference" href="#BrotliEncoderCreateInstance%2CBrotliAllocFunc%2CBrotliFreeFunc%2Cpointer" title="BrotliEncoderCreateInstance(allocFunc: BrotliAllocFunc;
                            freeFunc: BrotliFreeFunc; opaque: pointer): ptr BrotliEncoderState">BrotliEncoderCreateInstance(allocFunc: BrotliAllocFunc;
                            freeFunc: BrotliFreeFunc; opaque: pointer): ptr BrotliEncoderState</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderDestroyInstance
  <li><a class="reference" href="#BrotliEncoderDestroyInstance%2Cptr.BrotliEncoderState" title="BrotliEncoderDestroyInstance(state: ptr BrotliEncoderState)">BrotliEncoderDestroyInstance(state: ptr BrotliEncoderState)</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderDestroyPreparedDictionary
  <li><a class="reference" href="#BrotliEncoderDestroyPreparedDictionary%2Cptr.BrotliEncoderPreparedDictionary" title="BrotliEncoderDestroyPreparedDictionary(dictionary: ptr BrotliEncoderPreparedDictionary)">BrotliEncoderDestroyPreparedDictionary(dictionary: ptr BrotliEncoderPreparedDictionary)</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderEstimatePeakMemoryUsage
  <li><a class="reference" href="#BrotliEncoderEstimatePeakMemoryUsage%2Ccint%2Ccint%2Ccsize_t" title="BrotliEncoderEstimatePeakMemoryUsage(quality: cint; lgwin: cint;
                                     inputSize: csize_t): csize_t">BrotliEncoderEstimatePeakMemoryUsage(quality: cint; lgwin: cint;
                                     inputSize: csize_t): csize_t</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderGetPreparedDictionarySize
  <li><a class="reference" href="#BrotliEncoderGetPreparedDictionarySize%2Cptr.BrotliEncoderPreparedDictionary" title="BrotliEncoderGetPreparedDictionarySize(dictionary: ptr BrotliEncoderPreparedDictionary): csize_t">BrotliEncoderGetPreparedDictionarySize(dictionary: ptr BrotliEncoderPreparedDictionary): csize_t</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderHasMoreOutput
  <li><a class="reference" href="#BrotliEncoderHasMoreOutput%2Cptr.BrotliEncoderState" title="BrotliEncoderHasMoreOutput(state: ptr BrotliEncoderState): cint">BrotliEncoderHasMoreOutput(state: ptr BrotliEncoderState): cint</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderIsFinished
  <li><a class="reference" href="#BrotliEncoderIsFinished%2Cptr.BrotliEncoderState" title="BrotliEncoderIsFinished(state: ptr BrotliEncoderState): cint">BrotliEncoderIsFinished(state: ptr BrotliEncoderState): cint</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderMaxCompressedSize
  <li><a class="reference" href="#BrotliEncoderMaxCompressedSize%2Ccsize_t" title="BrotliEncoderMaxCompressedSize(inputSize: csize_t): csize_t">BrotliEncoderMaxCompressedSize(inputSize: csize_t): csize_t</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderPrepareDictionary
  <li><a class="reference" href="#BrotliEncoderPrepareDictionary%2CBrotliSharedDictionaryType%2Ccsize_t%2Cptr.UncheckedArray%5Buint8%5D%2Ccint%2CBrotliAllocFunc%2CBrotliFreeFunc%2Cpointer" title="BrotliEncoderPrepareDictionary(type: BrotliSharedDictionaryType;
                               dataSize: csize_t;
                               data: ptr UncheckedArray[uint8];
                               quality: cint = BROTLI_MAX_QUALITY;
                               allocFunc: BrotliAllocFunc;
                               freeFunc: BrotliFreeFunc; opaque: pointer): ptr BrotliEncoderPreparedDictionary">BrotliEncoderPrepareDictionary(type: BrotliSharedDictionaryType;
                               dataSize: csize_t;
                               data: ptr UncheckedArray[uint8];
                               quality: cint = BROTLI_MAX_QUALITY;
                               allocFunc: BrotliAllocFunc;
                               freeFunc: BrotliFreeFunc; opaque: pointer): ptr BrotliEncoderPreparedDictionary</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderSetParameter
  <li><a class="reference" href="#BrotliEncoderSetParameter%2Cptr.BrotliEncoderState%2CBrotliEncoderParameter%2Cuint32" title="BrotliEncoderSetParameter(state: ptr BrotliEncoderState;
                          param: BrotliEncoderParameter; value: uint32): cint">BrotliEncoderSetParameter(state: ptr BrotliEncoderState;
                          param: BrotliEncoderParameter; value: uint32): cint</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderTakeOutput
  <li><a class="reference" href="#BrotliEncoderTakeOutput%2Cptr.BrotliEncoderState%2Cptr.csize_t" title="BrotliEncoderTakeOutput(state: ptr BrotliEncoderState; size: ptr csize_t): ptr uint8">BrotliEncoderTakeOutput(state: ptr BrotliEncoderState; size: ptr csize_t): ptr uint8</a></li>

</ul>
<ul class="simple nested-toc-section">BrotliEncoderVersion
  <li><a class="reference" href="#BrotliEncoderVersion" title="BrotliEncoderVersion(): uint32">BrotliEncoderVersion(): uint32</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    
    <div id="tocRoot"></div>
    
    <p class="module-desc">API for Brotli compression. </p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="shared_dictionary.html">shared_dictionary</a>, <a class="reference external" href="types.html">types</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="BrotliEncoderMode">
  <dt><pre><a href="encode.html#BrotliEncoderMode"><span class="Identifier">BrotliEncoderMode</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">BrotliModeGeneric</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span> <span class="Comment">## </span>
                          <span class="Comment">## Default compression mode.</span>
                          <span class="Comment">## </span>
                          <span class="Comment">## In this mode compressor does not know anything in advance about the</span>
                          <span class="Comment">## properties of the input.</span>
                          <span class="Comment">## </span>
  <span class="Identifier">BrotliModeText</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">,</span>       <span class="Comment">## Compression mode for UTF-8 formatted text input. </span>
  <span class="Identifier">BrotliModeFont</span> <span class="Other">=</span> <span class="DecNumber">2</span>         <span class="Comment">## Compression mode used in WOFF 2.0.</span></pre></dt>
  <dd>
    
    Options for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_MODE</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BrotliEncoderOperation">
  <dt><pre><a href="encode.html#BrotliEncoderOperation"><span class="Identifier">BrotliEncoderOperation</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">BROTLI_OPERATION_PROCESS</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span> <span class="Comment">## </span>
                                 <span class="Comment">## Process input.</span>
                                 <span class="Comment">## </span>
                                 <span class="Comment">## Encoder may postpone producing output, until it has processed enough input.</span>
                                 <span class="Comment">## </span>
  <span class="Identifier">BROTLI_OPERATION_FLUSH</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">,</span> <span class="Comment">## </span>
                               <span class="Comment">## Produce output for all processed input.</span>
                               <span class="Comment">## </span>
                               <span class="Comment">## Actual flush is performed when input stream is depleted and there is enough</span>
                               <span class="Comment">## space in output stream. This means that client should repeat</span>
                               <span class="Comment">## `BROTLI_OPERATION_FLUSH` operation until `available_in` becomes `0`, and</span>
                               <span class="Comment">## [proc BrotliEncoderHasMoreOutput] returns `0`. If output is acquired</span>
                               <span class="Comment">## via [proc BrotliEncoderTakeOutput], then operation should be repeated after</span>
                               <span class="Comment">## output buffer is drained.</span>
                               <span class="Comment">## </span>
                               <span class="Comment">## .. warning:: Until flush is complete, client **SHOULD NOT** swap,</span>
                               <span class="Comment">##              reduce or extend input stream.</span>
                               <span class="Comment">## </span>
                               <span class="Comment">## When flush is complete, output data will be sufficient for decoder to</span>
                               <span class="Comment">## reproduce all the given input.</span>
                               <span class="Comment">## </span>
  <span class="Identifier">BROTLI_OPERATION_FINISH</span> <span class="Other">=</span> <span class="DecNumber">2</span><span class="Other">,</span> <span class="Comment">## </span>
                                <span class="Comment">## Finalize the stream.</span>
                                <span class="Comment">## </span>
                                <span class="Comment">## Actual finalization is performed when input stream is depleted and there is</span>
                                <span class="Comment">## enough space in output stream. This means that client should repeat</span>
                                <span class="Comment">## `BROTLI_OPERATION_FINISH` operation until `available_in` becomes `0`, and</span>
                                <span class="Comment">## [proc BrotliEncoderHasMoreOutput] returns `0`. If output is acquired</span>
                                <span class="Comment">## via [proc BrotliEncoderTakeOutput], then operation should be repeated after</span>
                                <span class="Comment">## output buffer is drained.</span>
                                <span class="Comment">## </span>
                                <span class="Comment">## .. warning:: Until finalization is complete, client **SHOULD NOT** swap,</span>
                                <span class="Comment">##              reduce or extend input stream.</span>
                                <span class="Comment">## </span>
                                <span class="Comment">## Helper function [proc BrotliEncoderIsFinished] checks if stream is finalized and</span>
                                <span class="Comment">## output fully dumped.</span>
                                <span class="Comment">## </span>
                                <span class="Comment">## Adding more input data to finalized stream is impossible.</span>
                                <span class="Comment">## </span>
  <span class="Identifier">BROTLI_OPERATION_EMIT_METADATA</span> <span class="Other">=</span> <span class="DecNumber">3</span> <span class="Comment">## </span>
                                     <span class="Comment">## Emit metadata block to stream.</span>
                                     <span class="Comment">## </span>
                                     <span class="Comment">## Metadata is opaque to Brotli: neither encoder, nor decoder processes this</span>
                                     <span class="Comment">## data or relies on it. It may be used to pass some extra information from</span>
                                     <span class="Comment">## encoder client to decoder client without interfering with main data stream.</span>
                                     <span class="Comment">## </span>
                                     <span class="Comment">## .. note:: Encoder may emit empty metadata blocks internally, to pad encoded</span>
                                     <span class="Comment">##           stream to byte boundary.</span>
                                     <span class="Comment">## </span>
                                     <span class="Comment">## .. warning:: Until emitting metadata is complete client **SHOULD NOT** swap,</span>
                                     <span class="Comment">##              reduce or extend input stream.</span>
                                     <span class="Comment">## </span>
                                     <span class="Comment">## .. warning:: The whole content of input buffer is considered to be the content</span>
                                     <span class="Comment">##              of metadata block. Do @b NOT @e append metadata to input stream,</span>
                                     <span class="Comment">##              before it is depleted with other operations.</span>
                                     <span class="Comment">## </span>
                                     <span class="Comment">## Stream is soft-flushed before metadata block is emitted. Metadata block</span>
                                     <span class="Comment">## **MUST** be no longer than than 16MiB.</span>
                                     <span class="Comment">## </span></pre></dt>
  <dd>
    
    Operations that can be performed by streaming encoder.
    
  </dd>
</div>
<div id="BrotliEncoderParameter">
  <dt><pre><a href="encode.html#BrotliEncoderParameter"><span class="Identifier">BrotliEncoderParameter</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">BROTLI_PARAM_MODE</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span> <span class="Comment">## </span>
                          <span class="Comment">## Tune encoder for specific input.</span>
                          <span class="Comment">## </span>
                          <span class="Comment">## [enum BrotliEncoderMode] enumerates all available values.</span>
                          <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_QUALITY</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">,</span> <span class="Comment">## </span>
                             <span class="Comment">## The main compression speed-density lever.</span>
                             <span class="Comment">## </span>
                             <span class="Comment">## The higher the quality, the slower the compression. Range is</span>
                             <span class="Comment">## from [const BROTLI_MIN_QUALITY] to [const BROTLI_MAX_QUALITY].</span>
                             <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_LGWIN</span> <span class="Other">=</span> <span class="DecNumber">2</span><span class="Other">,</span> <span class="Comment">## </span>
                           <span class="Comment">## Recommended sliding LZ77 window size.</span>
                           <span class="Comment">## </span>
                           <span class="Comment">## Encoder may reduce this value, e.g. if input is much smaller than</span>
                           <span class="Comment">## window size.</span>
                           <span class="Comment">## </span>
                           <span class="Comment">## Window size is `(1 &lt;&lt; value) - 16`.</span>
                           <span class="Comment">## </span>
                           <span class="Comment">## Range is from [const BROTLI_MIN_WINDOW_BITS] to [const BROTLI_MAX_WINDOW_BITS].</span>
                           <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_LGBLOCK</span> <span class="Other">=</span> <span class="DecNumber">3</span><span class="Other">,</span> <span class="Comment">## </span>
                             <span class="Comment">## Recommended input block size.</span>
                             <span class="Comment">## </span>
                             <span class="Comment">## Encoder may reduce this value, e.g. if input is much smaller than input</span>
                             <span class="Comment">## block size.</span>
                             <span class="Comment">## </span>
                             <span class="Comment">## Range is from [const BROTLI_MIN_INPUT_BLOCK_BITS] to</span>
                             <span class="Comment">## [const BROTLI_MAX_INPUT_BLOCK_BITS].</span>
                             <span class="Comment">## </span>
                             <span class="Comment">## .. note:: Bigger input block size allows better compression, but consumes more</span>
                             <span class="Comment">##           memory.</span>
                             <span class="Comment">##           The rough formula of memory used for temporary input</span>
                             <span class="Comment">##           storage is `3 &lt;&lt; lgBlock`.</span>
                             <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING</span> <span class="Other">=</span> <span class="DecNumber">4</span><span class="Other">,</span> <span class="Comment">## </span>
                                                      <span class="Comment">## Flag that affects usage of &quot;literal context modeling&quot; format feature.</span>
                                                      <span class="Comment">## </span>
                                                      <span class="Comment">## This flag is a &quot;decoding-speed vs compression ratio&quot; trade-off.</span>
                                                      <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_SIZE_HINT</span> <span class="Other">=</span> <span class="DecNumber">5</span><span class="Other">,</span> <span class="Comment">## </span>
                               <span class="Comment">## Estimated total input size for all</span>
                               <span class="Comment">## [proc BrotliEncoderCompressStream] calls.</span>
                               <span class="Comment">## </span>
                               <span class="Comment">## The default value is `0`, which means that the total input size is unknown.</span>
                               <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_LARGE_WINDOW</span> <span class="Other">=</span> <span class="DecNumber">6</span><span class="Other">,</span> <span class="Comment">## </span>
                                  <span class="Comment">## Flag that determines if &quot;Large Window Brotli&quot; is used.</span>
                                  <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_NPOSTFIX</span> <span class="Other">=</span> <span class="DecNumber">7</span><span class="Other">,</span> <span class="Comment">## </span>
                              <span class="Comment">## Recommended number of postfix bits (NPOSTFIX).</span>
                              <span class="Comment">## </span>
                              <span class="Comment">## Encoder may change this value.</span>
                              <span class="Comment">## </span>
                              <span class="Comment">## Range is from 0 to [const BROTLI_MAX_NPOSTFIX]. &lt;!-- defined in common/constants.h--&gt;</span>
                              <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_NDIRECT</span> <span class="Other">=</span> <span class="DecNumber">8</span><span class="Other">,</span> <span class="Comment">## </span>
                             <span class="Comment">## Recommended number of direct distance codes (NDIRECT).</span>
                             <span class="Comment">## </span>
                             <span class="Comment">## Encoder may change this value.</span>
                             <span class="Comment">## </span>
                             <span class="Comment">## Range is from 0 to (15 &lt;&lt; NPOSTFIX) in steps of (1 &lt;&lt; NPOSTFIX).</span>
                             <span class="Comment">## </span>
  <span class="Identifier">BROTLI_PARAM_STREAM_OFFSET</span> <span class="Other">=</span> <span class="DecNumber">9</span> <span class="Comment">## </span>
                                 <span class="Comment">## Number of bytes of input stream already processed by a different instance.</span>
                                 <span class="Comment">## </span>
                                 <span class="Comment">## .. note:: It is important to configure all the encoder instances with same</span>
                                 <span class="Comment">##           parameters (except this one) in order to allow all the encoded parts</span>
                                 <span class="Comment">##           obey the same restrictions implied by header.</span>
                                 <span class="Comment">## </span>
                                 <span class="Comment">## If offset is not 0, then stream header is omitted.</span>
                                 <span class="Comment">## In any case output start is byte aligned, so for proper streams stitching</span>
                                 <span class="Comment">## &quot;predecessor&quot; stream must be flushed.</span>
                                 <span class="Comment">## </span>
                                 <span class="Comment">## Range is not artificially limited, but all the values greater or equal to</span>
                                 <span class="Comment">## maximal window size have the same effect. Values greater than 2^30 are not</span>
                                 <span class="Comment">## allowed.</span>
                                 <span class="Comment">## </span></pre></dt>
  <dd>
    
    Options to be used with <a class="reference internal nimdoc" title="proc BrotliEncoderSetParameter(state: ptr BrotliEncoderState;
                          param: BrotliEncoderParameter; value: uint32): cint" href="#BrotliEncoderSetParameter,ptr.BrotliEncoderState,BrotliEncoderParameter,uint32">proc BrotliEncoderSetParameter</a>.
    
  </dd>
</div>
<div id="BrotliEncoderPreparedDictionary">
  <dt><pre><a href="encode.html#BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderPreparedDictionary</span></a> <span class="Other">=</span> <span class="Keyword">object</span></pre></dt>
  <dd>
    
    Opaque type for pointer to different possible internal structures containing dictionary prepared for the encoder
    
  </dd>
</div>
<div id="BrotliEncoderState">
  <dt><pre><a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a> <span class="Other">=</span> <span class="Keyword">object</span></pre></dt>
  <dd>
    
    <p>Opaque structure that holds encoder state.</p>
<p>Allocated and initialized with <a class="reference internal nimdoc" title="proc BrotliEncoderCreateInstance(allocFunc: BrotliAllocFunc;
                            freeFunc: BrotliFreeFunc; opaque: pointer): ptr BrotliEncoderState" href="#BrotliEncoderCreateInstance,BrotliAllocFunc,BrotliFreeFunc,pointer">proc BrotliEncoderCreateInstance</a>. Cleaned up and deallocated with <a class="reference internal nimdoc" title="proc BrotliEncoderDestroyInstance(state: ptr BrotliEncoderState)" href="#BrotliEncoderDestroyInstance,ptr.BrotliEncoderState">proc BrotliEncoderDestroyInstance</a>. </p>

    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="10">
  <h1><a class="toc-backref" href="#10">Consts</a></h1>
  <dl class="item">
    <div id="BROTLI_DEFAULT_MODE">
  <dt><pre><a href="encode.html#BROTLI_DEFAULT_MODE"><span class="Identifier">BROTLI_DEFAULT_MODE</span></a> <span class="Other">=</span> <span class="DecNumber">BrotliModeGeneric</span></pre></dt>
  <dd>
    
    Default value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_MODE</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BROTLI_DEFAULT_QUALITY">
  <dt><pre><a href="encode.html#BROTLI_DEFAULT_QUALITY"><span class="Identifier">BROTLI_DEFAULT_QUALITY</span></a> <span class="Other">=</span> <span class="DecNumber">11</span></pre></dt>
  <dd>
    
    Default value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_QUALITY</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BROTLI_DEFAULT_WINDOW">
  <dt><pre><a href="encode.html#BROTLI_DEFAULT_WINDOW"><span class="Identifier">BROTLI_DEFAULT_WINDOW</span></a> <span class="Other">=</span> <span class="DecNumber">22</span></pre></dt>
  <dd>
    
    Default value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_LGWIN</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BROTLI_LARGE_MAX_WINDOW_BITS">
  <dt><pre><a href="encode.html#BROTLI_LARGE_MAX_WINDOW_BITS"><span class="Identifier">BROTLI_LARGE_MAX_WINDOW_BITS</span></a> <span class="Other">=</span> <span class="DecNumber">30</span></pre></dt>
  <dd>
    
    Maximal value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_LGWIN</span></span></tt> parameter in &quot;Large Window Brotli&quot; (32-bit). 
    
  </dd>
</div>
<div id="BROTLI_MAX_INPUT_BLOCK_BITS">
  <dt><pre><a href="encode.html#BROTLI_MAX_INPUT_BLOCK_BITS"><span class="Identifier">BROTLI_MAX_INPUT_BLOCK_BITS</span></a> <span class="Other">=</span> <span class="DecNumber">24</span></pre></dt>
  <dd>
    
    Maximal value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_LGBLOCK</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BROTLI_MAX_QUALITY">
  <dt><pre><a href="encode.html#BROTLI_MAX_QUALITY"><span class="Identifier">BROTLI_MAX_QUALITY</span></a> <span class="Other">=</span> <span class="DecNumber">11</span></pre></dt>
  <dd>
    
    Maximal value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_QUALITY</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BROTLI_MAX_WINDOW_BITS">
  <dt><pre><a href="encode.html#BROTLI_MAX_WINDOW_BITS"><span class="Identifier">BROTLI_MAX_WINDOW_BITS</span></a> <span class="Other">=</span> <span class="DecNumber">24</span></pre></dt>
  <dd>
    
    Maximal value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_LGWIN</span></span></tt> parameter.<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
equal to <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_MAX_DISTANCE_BITS</span></span></tt>.</div>

    
  </dd>
</div>
<div id="BROTLI_MIN_INPUT_BLOCK_BITS">
  <dt><pre><a href="encode.html#BROTLI_MIN_INPUT_BLOCK_BITS"><span class="Identifier">BROTLI_MIN_INPUT_BLOCK_BITS</span></a> <span class="Other">=</span> <span class="DecNumber">16</span></pre></dt>
  <dd>
    
    Minimal value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_LGBLOCK</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BROTLI_MIN_QUALITY">
  <dt><pre><a href="encode.html#BROTLI_MIN_QUALITY"><span class="Identifier">BROTLI_MIN_QUALITY</span></a> <span class="Other">=</span> <span class="DecNumber">0</span></pre></dt>
  <dd>
    
    Minimal value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_QUALITY</span></span></tt> parameter.
    
  </dd>
</div>
<div id="BROTLI_MIN_WINDOW_BITS">
  <dt><pre><a href="encode.html#BROTLI_MIN_WINDOW_BITS"><span class="Identifier">BROTLI_MIN_WINDOW_BITS</span></a> <span class="Other">=</span> <span class="DecNumber">10</span></pre></dt>
  <dd>
    
    Minimal value for <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_PARAM_LGWIN</span></span></tt> parameter.
    
  </dd>
</div>
<div id="useBrotliEncDll">
  <dt><pre><a href="encode.html#useBrotliEncDll"><span class="Identifier">useBrotliEncDll</span></a> <span class="Other">=</span> <span class="DecNumber">false</span></pre></dt>
  <dd>
    
    
    
  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="BrotliEncoderAttachPreparedDictionary-procs-all">
  <div id="BrotliEncoderAttachPreparedDictionary,ptr.BrotliEncoderState,ptr.BrotliEncoderPreparedDictionary">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderAttachPreparedDictionary%2Cptr.BrotliEncoderState%2Cptr.BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderAttachPreparedDictionary</span></a><span class="Other">(</span><span class="Identifier">state</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a><span class="Other">;</span>
    <span class="Identifier">dictionary</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderPreparedDictionary</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderAttachPreparedDictionary&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Attaches a prepared dictionary of any type to the encoder. Can be used multiple times to attach multiple dictionaries. The dictionary type was determined by BrotliEncoderPrepareDictionary. Multiple raw prefix dictionaries and/or max 1 serialized dictionary with custom words can be attached.<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> in case of error</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> otherwise</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderCompress-procs-all">
  <div id="BrotliEncoderCompress,cint,cint,BrotliEncoderMode,csize_t,ptr.UncheckedArray[uint8],ptr.csize_t,ptr.UncheckedArray[uint8]">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderCompress%2Ccint%2Ccint%2CBrotliEncoderMode%2Ccsize_t%2Cptr.UncheckedArray%5Buint8%5D%2Cptr.csize_t%2Cptr.UncheckedArray%5Buint8%5D"><span class="Identifier">BrotliEncoderCompress</span></a><span class="Other">(</span><span class="Identifier">quality</span><span class="Other">:</span> <span class="Identifier">cint</span> <span class="Other">=</span> <span class="Identifier">BROTLI_DEFAULT_QUALITY</span><span class="Other">;</span>
                           <span class="Identifier">lgwin</span><span class="Other">:</span> <span class="Identifier">cint</span> <span class="Other">=</span> <span class="Identifier">BROTLI_DEFAULT_WINDOW</span><span class="Other">;</span>
                           <span class="Identifier">mode</span><span class="Other">:</span> <a href="encode.html#BrotliEncoderMode"><span class="Identifier">BrotliEncoderMode</span></a> <span class="Other">=</span> <span class="Identifier">BROTLI_DEFAULT_MODE</span><span class="Other">;</span>
                           <span class="Identifier">inputSize</span><span class="Other">:</span> <span class="Identifier">csize_t</span><span class="Other">;</span>
                           <span class="Identifier">inputBuffer</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">UncheckedArray</span><span class="Other">[</span><span class="Identifier">uint8</span><span class="Other">]</span><span class="Other">;</span>
                           <span class="Identifier">encodedSize</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">csize_t</span><span class="Other">;</span>
                           <span class="Identifier">encodedBuffer</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">UncheckedArray</span><span class="Other">[</span><span class="Identifier">uint8</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderCompress&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Performs one-shot memory-to-memory compression.</p>
<p>Compresses the data in <tt class="docutils literal"><span class="pre"><span class="Identifier">input_buffer</span></span></tt> into <tt class="docutils literal"><span class="pre"><span class="Identifier">encoded_buffer</span></span></tt>, and sets <tt class="docutils literal"><span class="pre"><span class="Identifier">encoded_size</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> to the compressed length.</p>
<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
If <tt class="docutils literal"><span class="pre"><span class="Identifier">BrotliEncoderMaxCompressedSize</span><span class="Punctuation">(</span><span class="Identifier">input_size</span><span class="Punctuation">)</span></span></tt> returns non-zero value, then output is guaranteed to be no longer than that.</div>
<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
If <tt class="docutils literal"><span class="pre"><span class="Identifier">lgwin</span></span></tt> is greater than <a class="reference internal nimdoc" title="const BROTLI_MAX_WINDOW_BITS" href="#BROTLI_MAX_WINDOW_BITS">const BROTLI_MAX_WINDOW_BITS</a> then resulting stream might be incompatible with RFC 7932; to decode such streams, decoder should be configured with <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_DECODER_PARAM_LARGE_WINDOW</span> <span class="Operator">=</span> <span class="DecNumber">1</span></span></tt></div>
<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">quality:</th><td>quality parameter value, e.g. <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_DEFAULT_QUALITY</span></span></tt></td></tr>
<tr><th class="docinfo-name">lgwin:</th><td>lgwin parameter value, e.g. <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_DEFAULT_WINDOW</span></span></tt></td></tr>
<tr><th class="docinfo-name">mode:</th><td>mode parameter value, e.g. <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_DEFAULT_MODE</span></span></tt></td></tr>
<tr><th class="docinfo-name">input_size:</th><td>size of <tt class="docutils literal"><span class="pre"><span class="Identifier">input_buffer</span></span></tt></td></tr>
<tr><th class="docinfo-name">input_buffer:</th><td>input data buffer with at least <tt class="docutils literal"><span class="pre"><span class="Identifier">input_size</span></span></tt> addressable bytes</td></tr>
<tr><th class="docinfo-name">encoded_size:</th><td><tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Keyword">in</span><span class="Punctuation">,</span> <span class="Keyword">out</span><span class="Punctuation">]</span></span></tt> <strong>in</strong>: size of <tt class="docutils literal"><span class="pre"><span class="Identifier">encoded_buffer</span></span></tt>; <strong>out</strong>: length of compressed data written to <tt class="docutils literal"><span class="pre"><span class="Identifier">encoded_buffer</span></span></tt>, or <tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if compression fails</td></tr>
<tr><th class="docinfo-name">encoded_buffer:</th><td>compressed data destination buffer</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> in case of compression error</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if output buffer is too small</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> otherwise</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderCompressStream-procs-all">
  <div id="BrotliEncoderCompressStream,ptr.BrotliEncoderState,BrotliEncoderOperation,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderCompressStream%2Cptr.BrotliEncoderState%2CBrotliEncoderOperation%2Cptr.csize_t%2Cptr.ptr.uint8%2Cptr.csize_t%2Cptr.ptr.uint8%2Cptr.csize_t"><span class="Identifier">BrotliEncoderCompressStream</span></a><span class="Other">(</span><span class="Identifier">state</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a><span class="Other">;</span>
                                 <span class="Identifier">op</span><span class="Other">:</span> <a href="encode.html#BrotliEncoderOperation"><span class="Identifier">BrotliEncoderOperation</span></a><span class="Other">;</span>
                                 <span class="Identifier">availableIn</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">csize_t</span><span class="Other">;</span>
                                 <span class="Identifier">nextIn</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span><span class="Other">;</span>
                                 <span class="Identifier">availableOut</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">csize_t</span><span class="Other">;</span>
                                 <span class="Identifier">nextOut</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span><span class="Other">;</span> <span class="Identifier">totalOut</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">csize_t</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderCompressStream&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Compresses input stream to output stream.</p>
<p>The values <tt class="docutils literal"><span class="pre"><span class="Identifier">available_in</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">available_out</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> must specify the number of bytes addressable at <tt class="docutils literal"><span class="pre"><span class="Identifier">next_in</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">next_out</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> respectively. When <tt class="docutils literal"><span class="pre"><span class="Identifier">available_out</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> is <tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">next_out</span></span></tt> is allowed to be <tt class="docutils literal"><span class="pre"><span class="Keyword">nil</span></span></tt>.</p>
<p>After each call, <tt class="docutils literal"><span class="pre"><span class="Identifier">available_in</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> will be decremented by the amount of input bytes consumed, and the <tt class="docutils literal"><span class="pre"><span class="Identifier">next_in</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> pointer will be incremented by that amount. Similarly, <tt class="docutils literal"><span class="pre"><span class="Identifier">available_out</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> will be decremented by the amount of output bytes written, and the <tt class="docutils literal"><span class="pre"><span class="Identifier">next_out</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> pointer will be incremented by that amount.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">total_out</span></span></tt>, if it is not a null-pointer, will be set to the number of bytes compressed since the last <tt class="docutils literal"><span class="pre"><span class="Identifier">state</span></span></tt> initialization.</p>
<p>Internally workflow consists of 3 tasks:</p>
<ul class="simple"><li>(optionally) copy input data to internal buffer</li>
<li>actually compress data and (optionally) store it to internal buffer</li>
<li>(optionally) copy compressed bytes from internal buffer to output stream</li>
</ul>
<p>Whenever all 3 tasks can't move forward anymore, or error occurs, this method returns the control flow to caller.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt> is used to perform flush, finish the stream, or inject metadata block. See <a class="reference internal nimdoc" title="enum BrotliEncoderOperation" href="#BrotliEncoderOperation">enum BrotliEncoderOperation</a> for more information.</p>
<p>Flushing the stream means forcing encoding of all input passed to encoder and completing the current output block, so it could be fully decoded by stream decoder. To perform flush set <tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt> to <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_OPERATION_FLUSH</span></span></tt>. Under some circumstances (e.g. lack of output stream capacity) this operation would require several calls to <a class="reference internal nimdoc" title="proc BrotliEncoderCompressStream(state: ptr BrotliEncoderState;
                            op: BrotliEncoderOperation;
                            availableIn: ptr csize_t; nextIn: ptr ptr uint8;
                            availableOut: ptr csize_t; nextOut: ptr ptr uint8;
                            totalOut: ptr csize_t): cint" href="#BrotliEncoderCompressStream,ptr.BrotliEncoderState,BrotliEncoderOperation,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t">proc BrotliEncoderCompressStream</a>. The method must be called again until both input stream is depleted and encoder has no more output (see <a class="reference internal nimdoc" title="proc BrotliEncoderHasMoreOutput(state: ptr BrotliEncoderState): cint" href="#BrotliEncoderHasMoreOutput,ptr.BrotliEncoderState">proc BrotliEncoderHasMoreOutput</a>) after the method is called.</p>
<p>Finishing the stream means encoding of all input passed to encoder and adding specific &quot;final&quot; marks, so stream decoder could determine that stream is complete. To perform finish set <tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt> to <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_OPERATION_FINISH</span></span></tt>. Under some circumstances (e.g. lack of output stream capacity) this operation would require several calls to <a class="reference internal nimdoc" title="proc BrotliEncoderCompressStream(state: ptr BrotliEncoderState;
                            op: BrotliEncoderOperation;
                            availableIn: ptr csize_t; nextIn: ptr ptr uint8;
                            availableOut: ptr csize_t; nextOut: ptr ptr uint8;
                            totalOut: ptr csize_t): cint" href="#BrotliEncoderCompressStream,ptr.BrotliEncoderState,BrotliEncoderOperation,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t">proc BrotliEncoderCompressStream</a>. The method must be called again until both input stream is depleted and encoder has no more output (see <a class="reference internal nimdoc" title="proc BrotliEncoderHasMoreOutput(state: ptr BrotliEncoderState): cint" href="#BrotliEncoderHasMoreOutput,ptr.BrotliEncoderState">proc BrotliEncoderHasMoreOutput</a>) after the method is called.</p>
<div class="admonition admonition-warning"><span class="admonition-warning-text"><b>Warning:</b></span>
When flushing and finishing, <tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt> should not change until operation is complete; input stream should not be swapped, reduced or extended as well.</div>
<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">state:</th><td>encoder instance</td></tr>
<tr><th class="docinfo-name">op:</th><td>requested operation</td></tr>
<tr><th class="docinfo-name">available_in:</th><td><tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Keyword">in</span><span class="Punctuation">,</span> <span class="Keyword">out</span><span class="Punctuation">]</span></span></tt> <strong>in</strong>: amount of available input; <strong>out</strong>: amount of unused input</td></tr>
<tr><th class="docinfo-name">next_in:</th><td><tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Keyword">in</span><span class="Punctuation">,</span> <span class="Keyword">out</span><span class="Punctuation">]</span></span></tt> pointer to the next input byte</td></tr>
<tr><th class="docinfo-name">available_out:</th><td><tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Keyword">in</span><span class="Punctuation">,</span> <span class="Keyword">out</span><span class="Punctuation">]</span></span></tt> <strong>in</strong>: length of output buffer; <strong>out</strong>: remaining size of output buffer</td></tr>
<tr><th class="docinfo-name">next_out:</th><td><tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Keyword">in</span><span class="Punctuation">,</span> <span class="Keyword">out</span><span class="Punctuation">]</span></span></tt> compressed output buffer cursor; can be <tt class="docutils literal"><span class="pre"><span class="Keyword">nil</span></span></tt> if <tt class="docutils literal"><span class="pre"><span class="Identifier">available_out</span></span></tt> is <tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt></td></tr>
<tr><th class="docinfo-name">total_out:</th><td><tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Keyword">out</span><span class="Punctuation">]</span></span></tt> number of bytes produced so far; can be <tt class="docutils literal"><span class="pre"><span class="Keyword">nil</span></span></tt></td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if there was an error</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> otherwise</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderCreateInstance-procs-all">
  <div id="BrotliEncoderCreateInstance,BrotliAllocFunc,BrotliFreeFunc,pointer">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderCreateInstance%2CBrotliAllocFunc%2CBrotliFreeFunc%2Cpointer"><span class="Identifier">BrotliEncoderCreateInstance</span></a><span class="Other">(</span><span class="Identifier">allocFunc</span><span class="Other">:</span> <a href="types.html#BrotliAllocFunc"><span class="Identifier">BrotliAllocFunc</span></a><span class="Other">;</span>
                                 <span class="Identifier">freeFunc</span><span class="Other">:</span> <a href="types.html#BrotliFreeFunc"><span class="Identifier">BrotliFreeFunc</span></a><span class="Other">;</span> <span class="Identifier">opaque</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a> {.
    <span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderCreateInstance&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Creates an instance of <a class="reference internal nimdoc" title="object BrotliEncoderState" href="#BrotliEncoderState">type BrotliEncoderState</a> and initializes it.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">allocFunc</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">freeFunc</span></span></tt> <strong>MUST</strong> be both zero or both non-zero. In the case they are both zero, default memory allocators are used. <tt class="docutils literal"><span class="pre"><span class="Identifier">opaque</span></span></tt> is passed to <tt class="docutils literal"><span class="pre"><span class="Identifier">allocFunc</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">freeFunc</span></span></tt> when they are called. <tt class="docutils literal"><span class="pre"><span class="Identifier">freeFunc</span></span></tt> has to return without doing anything when asked to free a NULL pointer.</p>
<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">allocFunc:</th><td>custom memory allocation function</td></tr>
<tr><th class="docinfo-name">freeFunc:</th><td>custom memory free function</td></tr>
<tr><th class="docinfo-name">opaque:</th><td>custom memory manager handle</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="Keyword">nil</span></span></tt> if instance can not be allocated or initialized</td></tr>
<tr><th class="docinfo-name">returns:</th><td>pointer to initialized <a class="reference internal nimdoc" title="object BrotliEncoderState" href="#BrotliEncoderState">type BrotliEncoderState</a> otherwise</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderDestroyInstance-procs-all">
  <div id="BrotliEncoderDestroyInstance,ptr.BrotliEncoderState">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderDestroyInstance%2Cptr.BrotliEncoderState"><span class="Identifier">BrotliEncoderDestroyInstance</span></a><span class="Other">(</span><span class="Identifier">state</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a><span class="Other">)</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderDestroyInstance&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Deinitializes and frees <a class="reference internal nimdoc" title="object BrotliEncoderState" href="#BrotliEncoderState">type BrotliEncoderState</a> instance.<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">state:</th><td>decoder instance to be cleaned up and deallocated</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderDestroyPreparedDictionary-procs-all">
  <div id="BrotliEncoderDestroyPreparedDictionary,ptr.BrotliEncoderPreparedDictionary">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderDestroyPreparedDictionary%2Cptr.BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderDestroyPreparedDictionary</span></a><span class="Other">(</span>
    <span class="Identifier">dictionary</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderPreparedDictionary</span></a><span class="Other">)</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderDestroyPreparedDictionary&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    
  </dd>
</div>

</div>
<div id="BrotliEncoderEstimatePeakMemoryUsage-procs-all">
  <div id="BrotliEncoderEstimatePeakMemoryUsage,cint,cint,csize_t">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderEstimatePeakMemoryUsage%2Ccint%2Ccint%2Ccsize_t"><span class="Identifier">BrotliEncoderEstimatePeakMemoryUsage</span></a><span class="Other">(</span><span class="Identifier">quality</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span> <span class="Identifier">lgwin</span><span class="Other">:</span> <span class="Identifier">cint</span><span class="Other">;</span>
    <span class="Identifier">inputSize</span><span class="Other">:</span> <span class="Identifier">csize_t</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">csize_t</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderEstimatePeakMemoryUsage&quot;</span><span class="Other">,</span>
                                   <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns the estimated peak memory usage (in bytes) of the BrotliCompress() function, not counting the memory needed for the input and output.
    
  </dd>
</div>

</div>
<div id="BrotliEncoderGetPreparedDictionarySize-procs-all">
  <div id="BrotliEncoderGetPreparedDictionarySize,ptr.BrotliEncoderPreparedDictionary">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderGetPreparedDictionarySize%2Cptr.BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderGetPreparedDictionarySize</span></a><span class="Other">(</span>
    <span class="Identifier">dictionary</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderPreparedDictionary</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">csize_t</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderGetPreparedDictionarySize&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Returns <tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if dictionary is not valid; otherwise returns allocation size.
    
  </dd>
</div>

</div>
<div id="BrotliEncoderHasMoreOutput-procs-all">
  <div id="BrotliEncoderHasMoreOutput,ptr.BrotliEncoderState">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderHasMoreOutput%2Cptr.BrotliEncoderState"><span class="Identifier">BrotliEncoderHasMoreOutput</span></a><span class="Other">(</span><span class="Identifier">state</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderHasMoreOutput&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Checks if encoder has more output.<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">state:</th><td>encoder instance</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt>, if encoder has some unconsumed output</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> otherwise</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderIsFinished-procs-all">
  <div id="BrotliEncoderIsFinished,ptr.BrotliEncoderState">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderIsFinished%2Cptr.BrotliEncoderState"><span class="Identifier">BrotliEncoderIsFinished</span></a><span class="Other">(</span><span class="Identifier">state</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderIsFinished&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Checks if encoder instance reached the final state.<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">state:</th><td>encoder instance</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> if encoder is in a state where it reached the end of the input and produced all of the output</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> otherwise</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderMaxCompressedSize-procs-all">
  <div id="BrotliEncoderMaxCompressedSize,csize_t">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderMaxCompressedSize%2Ccsize_t"><span class="Identifier">BrotliEncoderMaxCompressedSize</span></a><span class="Other">(</span><span class="Identifier">inputSize</span><span class="Other">:</span> <span class="Identifier">csize_t</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">csize_t</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span>
    <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderMaxCompressedSize&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Calculates the output size bound for the given <tt class="docutils literal"><span class="pre"><span class="Identifier">inputSize</span></span></tt>.<div class="admonition admonition-warning"><span class="admonition-warning-text"><b>Warning:</b></span>
Result is only valid if quality is at least <tt class="docutils literal"><span class="pre"><span class="DecNumber">2</span></span></tt> and, in case <a class="reference internal nimdoc" title="proc BrotliEncoderCompressStream(state: ptr BrotliEncoderState;
                            op: BrotliEncoderOperation;
                            availableIn: ptr csize_t; nextIn: ptr ptr uint8;
                            availableOut: ptr csize_t; nextOut: ptr ptr uint8;
                            totalOut: ptr csize_t): cint" href="#BrotliEncoderCompressStream,ptr.BrotliEncoderState,BrotliEncoderOperation,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t">proc BrotliEncoderCompressStream</a> was used, no flushes (<tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_OPERATION_FLUSH</span></span></tt>) were performed.</div>
<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">input_size:</th><td>size of projected input</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if result does not fit <tt class="docutils literal"><span class="pre"><span class="Identifier">size_t</span></span></tt></td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderPrepareDictionary-procs-all">
  <div id="BrotliEncoderPrepareDictionary,BrotliSharedDictionaryType,csize_t,ptr.UncheckedArray[uint8],cint,BrotliAllocFunc,BrotliFreeFunc,pointer">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderPrepareDictionary%2CBrotliSharedDictionaryType%2Ccsize_t%2Cptr.UncheckedArray%5Buint8%5D%2Ccint%2CBrotliAllocFunc%2CBrotliFreeFunc%2Cpointer"><span class="Identifier">BrotliEncoderPrepareDictionary</span></a><span class="Other">(</span><span class="Identifier">type</span><span class="Other">:</span> <a href="shared_dictionary.html#BrotliSharedDictionaryType"><span class="Identifier">BrotliSharedDictionaryType</span></a><span class="Other">;</span>
                                    <span class="Identifier">dataSize</span><span class="Other">:</span> <span class="Identifier">csize_t</span><span class="Other">;</span>
                                    <span class="Identifier">data</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">UncheckedArray</span><span class="Other">[</span><span class="Identifier">uint8</span><span class="Other">]</span><span class="Other">;</span>
                                    <span class="Identifier">quality</span><span class="Other">:</span> <span class="Identifier">cint</span> <span class="Other">=</span> <span class="Identifier">BROTLI_MAX_QUALITY</span><span class="Other">;</span>
                                    <span class="Identifier">allocFunc</span><span class="Other">:</span> <a href="types.html#BrotliAllocFunc"><span class="Identifier">BrotliAllocFunc</span></a><span class="Other">;</span>
                                    <span class="Identifier">freeFunc</span><span class="Other">:</span> <a href="types.html#BrotliFreeFunc"><span class="Identifier">BrotliFreeFunc</span></a><span class="Other">;</span> <span class="Identifier">opaque</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderPreparedDictionary"><span class="Identifier">BrotliEncoderPreparedDictionary</span></a> {.
    <span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderPrepareDictionary&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Prepares a shared dictionary from the given file format for the encoder.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">allocFunc</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">freeFunc</span></span></tt> <strong>MUST</strong> be both zero or both non-zero. In the case they are both zero, default memory allocators are used. <tt class="docutils literal"><span class="pre"><span class="Identifier">opaque</span></span></tt> is passed to <tt class="docutils literal"><span class="pre"><span class="Identifier">allocFunc</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">freeFunc</span></span></tt> when they are called. <tt class="docutils literal"><span class="pre"><span class="Identifier">freeFunc</span></span></tt> has to return without doing anything when asked to free a NULL pointer.</p>
<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">type:</th><td>type of dictionary stored in data</td></tr>
<tr><th class="docinfo-name">data_size:</th><td>size of <tt class="docutils literal"><span class="pre"><span class="Identifier">data</span></span></tt> buffer</td></tr>
<tr><th class="docinfo-name">data:</th><td>pointer to the dictionary data</td></tr>
<tr><th class="docinfo-name">quality:</th><td>the maximum Brotli quality to prepare the dictionary for, use <a class="reference internal nimdoc" title="const BROTLI_MAX_QUALITY" href="#BROTLI_MAX_QUALITY">const BROTLI_MAX_QUALITY</a> by default</td></tr>
<tr><th class="docinfo-name">allocFunc:</th><td>custom memory allocation function</td></tr>
<tr><th class="docinfo-name">freeFunc:</th><td>custom memory free function</td></tr>
<tr><th class="docinfo-name">opaque:</th><td>custom memory manager handle</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderSetParameter-procs-all">
  <div id="BrotliEncoderSetParameter,ptr.BrotliEncoderState,BrotliEncoderParameter,uint32">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderSetParameter%2Cptr.BrotliEncoderState%2CBrotliEncoderParameter%2Cuint32"><span class="Identifier">BrotliEncoderSetParameter</span></a><span class="Other">(</span><span class="Identifier">state</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a><span class="Other">;</span>
                               <span class="Identifier">param</span><span class="Other">:</span> <a href="encode.html#BrotliEncoderParameter"><span class="Identifier">BrotliEncoderParameter</span></a><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">uint32</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">cint</span> {.
    <span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderSetParameter&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Sets the specified parameter to the given encoder instance.<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">state:</th><td>encoder instance</td></tr>
<tr><th class="docinfo-name">param:</th><td>parameter to set</td></tr>
<tr><th class="docinfo-name">value:</th><td>new parameter value</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if parameter is unrecognized, or value is invalid</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if value of parameter can not be changed at current encoder state (e.g. when encoding is started, window size might be already encoded and therefore it is impossible to change it)</td></tr>
<tr><th class="docinfo-name">returns:</th><td><tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt> if value is accepted</td></tr>
</tbody></table><div class="admonition admonition-warning"><span class="admonition-warning-text"><b>Warning:</b></span>
invalid values might be accepted in case they would not break encoding process.</div>

    
  </dd>
</div>

</div>
<div id="BrotliEncoderTakeOutput-procs-all">
  <div id="BrotliEncoderTakeOutput,ptr.BrotliEncoderState,ptr.csize_t">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderTakeOutput%2Cptr.BrotliEncoderState%2Cptr.csize_t"><span class="Identifier">BrotliEncoderTakeOutput</span></a><span class="Other">(</span><span class="Identifier">state</span><span class="Other">:</span> <span class="Keyword">ptr</span> <a href="encode.html#BrotliEncoderState"><span class="Identifier">BrotliEncoderState</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">csize_t</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">uint8</span> {.
    <span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderTakeOutput&quot;</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Acquires pointer to internal output buffer.</p>
<p>This method is used to make language bindings easier and more efficient:</p>
<ul class="simple"><li>push data to <a class="reference internal nimdoc" title="proc BrotliEncoderCompressStream(state: ptr BrotliEncoderState;
                            op: BrotliEncoderOperation;
                            availableIn: ptr csize_t; nextIn: ptr ptr uint8;
                            availableOut: ptr csize_t; nextOut: ptr ptr uint8;
                            totalOut: ptr csize_t): cint" href="#BrotliEncoderCompressStream,ptr.BrotliEncoderState,BrotliEncoderOperation,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t,ptr.ptr.uint8,ptr.csize_t">proc BrotliEncoderCompressStream</a>, until <a class="reference internal nimdoc" title="proc BrotliEncoderHasMoreOutput(state: ptr BrotliEncoderState): cint" href="#BrotliEncoderHasMoreOutput,ptr.BrotliEncoderState">proc BrotliEncoderHasMoreOutput</a> returns <tt class="docutils literal"><span class="pre"><span class="DecNumber">1</span></span></tt></li>
<li>use <a class="reference internal nimdoc" title="proc BrotliEncoderTakeOutput(state: ptr BrotliEncoderState; size: ptr csize_t): ptr uint8" href="#BrotliEncoderTakeOutput,ptr.BrotliEncoderState,ptr.csize_t">proc BrotliEncoderTakeOutput</a> to peek bytes and copy to language-specific entity</li>
</ul>
<p>Also this could be useful if there is an output stream that is able to consume all the provided data (e.g. when data is saved to file system).</p>
<div class="admonition admonition-warning"><span class="admonition-warning-text"><b>Attention:</b></span>
After every call to <a class="reference internal nimdoc" title="proc BrotliEncoderTakeOutput(state: ptr BrotliEncoderState; size: ptr csize_t): ptr uint8" href="#BrotliEncoderTakeOutput,ptr.BrotliEncoderState,ptr.csize_t">proc BrotliEncoderTakeOutput</a> <tt class="docutils literal"><span class="pre"><span class="Identifier">size</span><span class="Punctuation">[</span><span class="Punctuation">]</span></span></tt> bytes of output are considered consumed for all consecutive calls to the instance methods; returned pointer becomes invalidated as well.</div>
<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
Encoder output is not guaranteed to be contiguous. This means that after the size-unrestricted call to <a class="reference internal nimdoc" title="proc BrotliEncoderTakeOutput(state: ptr BrotliEncoderState; size: ptr csize_t): ptr uint8" href="#BrotliEncoderTakeOutput,ptr.BrotliEncoderState,ptr.csize_t">proc BrotliEncoderTakeOutput</a>, immediate next call to <a class="reference internal nimdoc" title="proc BrotliEncoderTakeOutput(state: ptr BrotliEncoderState; size: ptr csize_t): ptr uint8" href="#BrotliEncoderTakeOutput,ptr.BrotliEncoderState,ptr.csize_t">proc BrotliEncoderTakeOutput</a> may return more data.</div>
<table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">state:</th><td>encoder instance</td></tr>
<tr><th class="docinfo-name">size:</th><td><tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Keyword">in</span><span class="Punctuation">,</span> <span class="Keyword">out</span><span class="Punctuation">]</span></span></tt> <strong>in</strong>: number of bytes caller is ready to take, <tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> if any amount could be handled; <strong>out</strong>: amount of data pointed by returned pointer and considered consumed; out value is never greater than in value, unless it is <tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt></td></tr>
<tr><th class="docinfo-name">returns:</th><td>pointer to output data</td></tr>
</tbody></table>
    
  </dd>
</div>

</div>
<div id="BrotliEncoderVersion-procs-all">
  <div id="BrotliEncoderVersion">
  <dt><pre><span class="Keyword">proc</span> <a href="#BrotliEncoderVersion"><span class="Identifier">BrotliEncoderVersion</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint32</span> {.<span class="Identifier">cdecl</span><span class="Other">,</span> <span class="Identifier">importc</span><span class="Other">:</span> <span class="StringLit">&quot;BrotliEncoderVersion&quot;</span><span class="Other">,</span>
                                      <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Gets an encoder library version.</p>
<p>Look at <tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_MAKE_HEX_VERSION</span></span></tt> for more information.</p>
<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">BROTLI_MAKE_HEX_VERSION</span></span></tt> is defined as such:</p>
<p><pre class="listing">
<span class="LongComment">/*
   Compose 3 components into a single number.
   In a hexadecimal representation B and C
   components occupy exactly 3 digits.
*/</span>
<span class="Preprocessor">#define</span> <span class="Identifier">BROTLI_MAKE_HEX_VERSION</span><span class="Punctuation">(</span><span class="Identifier">A</span><span class="Punctuation">,</span> <span class="Identifier">B</span><span class="Punctuation">,</span> <span class="Identifier">C</span><span class="Punctuation">)</span> <span class="Punctuation">(</span><span class="Punctuation">(</span><span class="Identifier">A</span> <span class="Operator">&lt;&lt;</span> <span class="DecNumber">24</span><span class="Punctuation">)</span> <span class="Operator">|</span> <span class="Punctuation">(</span><span class="Identifier">B</span> <span class="Operator">&lt;&lt;</span> <span class="DecNumber">12</span><span class="Punctuation">)</span> <span class="Operator">|</span> <span class="Identifier">C</span><span class="Punctuation">)</span></pre></p>
</div>

    
  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-07-21 18:37:58 UTC</small>
      </div>
    </div>
  </div>
  
  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
  <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>
</body>
</html>
